define StringIterator
(
    current: pointer[char]
    last: pointer[char]
)
{

init(string: String) {
    let buffer string.get_buffer()
    set this.current: buffer
    set this.last: buffer + string.get_length()
}

function next(this: StringIterator) returns pointer[char] {
    if this.current = last
    {
        return null
    } else {
        let ret this.current
        set this.current: this.current + 1
        return ret
    }
}

}
