<chapter xml:id="lexical">
  <title>Lexical Structure</title>

  <section xml:id="lex-overview">
    <title>Overview</title>
    <para>
      This chapter describes the lexical structure of Scaly: how source text
      is divided into tokens. The lexer transforms a sequence of characters
      into a sequence of tokens that the parser then processes.
    </para>
  </section>

  <section xml:id="lex-whitespace">
    <title>Whitespace and Line Breaks</title>
    <para>
      Whitespace characters (space, tab) separate tokens but are otherwise
      insignificant. Line breaks, however, are syntactically meaningful in
      Scaly — they can terminate statements and declarations.
    </para>
    <para>
      A colon (<literal>:</literal>) can be used in place of a line break
      when multiple statements should appear on a single line.
    </para>
  </section>

  <section xml:id="lex-comments">
    <title>Comments</title>
    <para>
      Scaly supports two forms of comments:
    </para>
    <itemizedlist>
      <listitem>
        <para><emphasis>Single-line comments</emphasis> start with a semicolon
        (<literal>;</literal>) and extend to the end of the line.</para>
      </listitem>
      <listitem>
        <para><emphasis>Multi-line comments</emphasis> start with
        <literal>;*</literal> and end with <literal>*;</literal>.</para>
      </listitem>
    </itemizedlist>
    <programlisting>
; This is a single-line comment

;* This is a
   multi-line comment *;
    </programlisting>
  </section>

  <section xml:id="lex-literals">
    <title>Literals</title>

    <section xml:id="lex-integers">
      <title>Integer Literals</title>
      <para>
        Integer literals represent whole numbers. They can be written in
        decimal or hexadecimal notation.
      </para>
      <programlisting>
42        ; decimal
0x2A      ; hexadecimal (same value)
      </programlisting>
    </section>

    <section xml:id="lex-floats">
      <title>Floating-Point Literals</title>
      <para>
        Floating-point literals represent decimal numbers with a fractional
        part or an exponent.
      </para>
      <programlisting>
3.14159       ; pi
2.5e10        ; scientific notation
1.0e-5        ; small number
      </programlisting>
    </section>

    <section xml:id="lex-strings">
      <title>String Literals</title>
      <para>
        String literals are enclosed in double quotes. They support standard
        escape sequences.
      </para>
      <programlisting>
"Hello, World!"
"Line 1\nLine 2"      ; with newline escape
"Tab:\tValue"         ; with tab
"Quote: \"nested\""   ; escaped quotes
      </programlisting>
      <para>
        Strings can span multiple lines without any special syntax — newlines
        are simply included as part of the string content:
      </para>
      <programlisting>
"This is a string
that spans multiple
lines."
      </programlisting>
    </section>

    <section xml:id="lex-characters">
      <title>Character Literals</title>
      <para>
        Character literals represent single Unicode code points, enclosed
        in backticks.
      </para>
      <programlisting>
`a`           ; lowercase a
`\n`          ; newline character
`\u{1F600}`   ; emoji (grinning face)
      </programlisting>
    </section>

    <section xml:id="lex-booleans">
      <title>Boolean Literals</title>
      <para>
        Boolean literals are <literal>true</literal> and <literal>false</literal>.
      </para>
      <programlisting>
true
false
      </programlisting>
    </section>

  </section>

  <section xml:id="lex-identifiers">
    <title>Identifiers</title>
    <para>
      Identifiers name variables, functions, types, and other entities.
      Scaly supports three forms of identifiers:
    </para>
    <itemizedlist>
      <listitem>
        <para><emphasis>Alphanumeric identifiers</emphasis> start with a letter
        and continue with letters, digits, or underscores.</para>
      </listitem>
      <listitem>
        <para><emphasis>Operator identifiers</emphasis> consist of operator
        characters such as <literal>+</literal>, <literal>-</literal>,
        <literal>*</literal>, <literal>/</literal>.</para>
      </listitem>
      <listitem>
        <para><emphasis>String identifiers</emphasis> are enclosed in single
        quotes and can contain any characters.</para>
      </listitem>
    </itemizedlist>
    <programlisting>
myVariable        ; alphanumeric
calculate_total   ; with underscore
++                ; operator identifier
'my identifier'   ; string identifier (with spaces)
    </programlisting>
  </section>

</chapter>
