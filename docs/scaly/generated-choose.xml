<!-- Generated documentation from tests.sgm -->
<!-- DO NOT EDIT - generated by codegen -->

  <section xmlns='http://docbook.org/ns/docbook' xml:id='category-CHOOSE-EXPRESSIONS'>
    <title>Choose Expressions</title>
    <para>Choose expressions pattern match on union types, binding the inner value to a variable.</para>

    <section xml:id='tests-CHOOSE-BASIC'>
      <title>Basic Choose</title>
      <para>Choose expressions match on the variant of a union value and bind the inner value.</para>
      <informaltable frame='none'>
        <tgroup cols='2'>
          <colspec colwidth='1*'/>
          <colspec colwidth='1*'/>
          <thead>
            <row>
              <entry>Input</entry>
              <entry>Result</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><programlisting>define Option union(Some: int, None)
choose Some(5): when v: Some: v + 1 else 0</programlisting></entry>
              <entry><literal>6
        </literal></entry>
            </row>
            <row>
              <entry><programlisting>define Option union(Some: int, None)
choose None: when v: Some: v else -1</programlisting></entry>
              <entry><literal>-1
        </literal></entry>
            </row>
            <row>
              <entry><programlisting>define Option union(Some: int, None)
let x Some(10)
choose x: when v: Some: v * 2 else 0</programlisting></entry>
              <entry><literal>20

    </literal></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>

    <section xml:id='tests-CHOOSE-RESULT'>
      <title>Choose with Result</title>
      <para>Choose works with any union type, including Result.</para>
      <informaltable frame='none'>
        <tgroup cols='2'>
          <colspec colwidth='1*'/>
          <colspec colwidth='1*'/>
          <thead>
            <row>
              <entry>Input</entry>
              <entry>Result</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><programlisting>define Result union(Ok: int, Err: String)
choose Ok(42): when v: Ok: v when e: Err: 0 else -1</programlisting></entry>
              <entry><literal>42
        </literal></entry>
            </row>
            <row>
              <entry><programlisting>define Result union(Ok: int, Err: String)
choose Err("error"): when v: Ok: v when e: Err: 0 else -1</programlisting></entry>
              <entry><literal>0

    </literal></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>

    <section xml:id='tests-CHOOSE-ELSE'>
      <title>Choose Else Branch</title>
      <para>The else branch is evaluated when no when clause matches.</para>
      <informaltable frame='none'>
        <tgroup cols='2'>
          <colspec colwidth='1*'/>
          <colspec colwidth='1*'/>
          <thead>
            <row>
              <entry>Input</entry>
              <entry>Result</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><programlisting>define Option union(Some: int, None)
choose None: when v: Some: v else 99</programlisting></entry>
              <entry><literal>99
</literal></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
  </section>
