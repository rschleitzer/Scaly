using Scaly

function main(argc: int, argv: pointer): int {

    // Collect the arguments into a string Array
    mutable arguments new Array[string?](argc - 1)

    mutable i: int 1
    while (i < argc) {
        arguments.Add(new string(argv[i]))
        set i: i + 1
    }

    // Call Scaly's top-level code
    var ret Scaly.main(arguments)

    // Only for monitoring, debugging and stuff
    CurrentTask.dispose()

    // Give back the return code of the top-level code
    return ret
}
